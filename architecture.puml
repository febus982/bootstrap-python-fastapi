@startuml
allowmixing
skinparam componentStyle uml1

package http_app {
    package routes #DDDDDD
}

package grpc_app {
    package services #DDDDDD
}

package domains #DDDDDD {
    package books {
        class Book
        class BookService
        protocol BookRepositoryInterface
        class BookModel
    }
}

package storage #DDDDDD {
    package Repositories {
        class SQLAlchemyRepository
    }
}

'links framework - domains
routes --> BookService
routes --> Book
services --> BookService
services --> Book

'links internal to books domain
BookService -l-> Book
BookService --> BookModel
BookService --> BookRepositoryInterface
BookRepositoryInterface -l-> BookModel

'links domains - storage
SQLAlchemyRepository --d-|> BookRepositoryInterface: implements >
@enduml
